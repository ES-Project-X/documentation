{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"servers":[{"url":"/api"}],"paths":{"/auth/register":{"post":{"tags":["auth"],"summary":"Register","operationId":"register_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/user":{"get":{"tags":["user"],"summary":"Get User","operationId":"get_user_user_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/user/edit":{"put":{"tags":["user"],"summary":"Edit User","operationId":"edit_user_user_edit_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEdit"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/poi/id/{id}":{"get":{"tags":["Points of Interest"],"summary":"Get Poi","operationId":"get_poi_poi_id__id__get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/poi/status/{id}":{"get":{"tags":["Points of Interest"],"summary":"Get Poi Status","operationId":"get_poi_status_poi_status__id__get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/poi/cluster":{"get":{"tags":["Points of Interest"],"summary":"Get Pois","operationId":"get_pois_poi_cluster_get","parameters":[{"name":"max_lat","in":"query","required":false,"schema":{"type":"array","items":{"type":"number"},"title":"Max Lat"}},{"name":"min_lat","in":"query","required":false,"schema":{"type":"array","items":{"type":"number"},"title":"Min Lat"}},{"name":"max_lng","in":"query","required":false,"schema":{"type":"array","items":{"type":"number"},"title":"Max Lng"}},{"name":"min_lng","in":"query","required":false,"schema":{"type":"array","items":{"type":"number"},"title":"Min Lng"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/poi/exists":{"put":{"tags":["Points of Interest"],"summary":"Rate Poi Existence","operationId":"rate_poi_existence_poi_exists_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/POIRateExistence"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/poi/status":{"put":{"tags":["Points of Interest"],"summary":"Rate Poi Status","operationId":"rate_poi_status_poi_status_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/POIRate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/poi/create":{"post":{"tags":["Points of Interest"],"summary":"Create Poi","operationId":"create_poi_poi_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/POICreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/route/create":{"post":{"tags":["route"],"summary":"Create Route","operationId":"create_route_route_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/route/get":{"get":{"tags":["route"],"summary":"Get Route","operationId":"get_route_route_get_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/route/delete/{id}":{"delete":{"tags":["route"],"summary":"Delete Route","operationId":"delete_route_route_delete__id__delete","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/s3/upload":{"post":{"tags":["Upload to S3"],"summary":"Upload To S3","operationId":"upload_to_s3_s3_upload_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUpload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/test-cognito-auth":{"get":{"summary":"Test Cognito Auth","description":"Notas:\n- Basta colocar o argumento \"token\" desta forma para que seja verificada a autenticação.\n- No cognito.py está a configuração do \"cognito_eu\", que é importado e usado aqui.\n- Passar o JWT token (access_token) no header \"Authorization\" com o prefixo \"Bearer \" (Authorization: Bearer <access_token>).\n- Conteúdo do token:\n{\n    \"origin_jti\": null,\n    \"sub\": \"1cfd853e-f2e8-4db9-9b3c-5b20070e2dd9\",\n    \"event_id\": \"ee5fed89-4b6d-4e9c-9fd9-0a549aa88395\",\n    \"token_use\": \"access\",\n    \"scope\": \"openid email\",\n    \"auth_time\": 1698877020,\n    \"iss\": \"https://cognito-idp.eu-west-1.amazonaws.com/eu-west-1_EQGJijkpw\",\n    \"exp\": 1698880620,\n    \"iat\": 1698877020,\n    \"jti\": \"6b6d8b93-b2b8-4d4c-965a-28732fd44ebb\",\n    \"client_id\": \"2gcaba1b91t1gfnhofgna0g63o\",\n    \"username\": \"1cfd853e-f2e8-4db9-9b3c-5b20070e2dd9\"\n}\n- \"username\" é a referência para o utilizador no Cognito (possui email, family_name e given_name).","operationId":"test_cognito_auth_test_cognito_auth_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"FileUpload":{"properties":{"base64_image":{"type":"string","title":"Base64 Image"},"image_type":{"type":"string","title":"Image Type"}},"type":"object","required":["base64_image","image_type"],"title":"FileUpload"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"POICreate":{"properties":{"latitude":{"type":"number","title":"Latitude"},"longitude":{"type":"number","title":"Longitude"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"type":{"type":"string","title":"Type"},"picture_url":{"type":"string","title":"Picture Url"}},"type":"object","required":["latitude","longitude","name","description","type","picture_url"],"title":"POICreate"},"POIRate":{"properties":{"id":{"type":"string","title":"Id"},"status":{"type":"boolean","title":"Status"}},"type":"object","required":["id","status"],"title":"POIRate"},"POIRateExistence":{"properties":{"id":{"type":"string","title":"Id"},"rating":{"type":"boolean","title":"Rating"}},"type":"object","required":["id","rating"],"title":"POIRateExistence"},"RouteCreate":{"properties":{"name":{"type":"string","title":"Name"},"points":{"items":{"type":"string"},"type":"array","title":"Points"}},"type":"object","required":["name","points"],"title":"RouteCreate"},"UserCreate":{"properties":{"email":{"type":"string","title":"Email"},"username":{"type":"string","title":"Username"},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"birth_date":{"type":"string","title":"Birth Date"}},"type":"object","required":["email","username","first_name","last_name","birth_date"],"title":"UserCreate"},"UserEdit":{"properties":{"email":{"type":"string","title":"Email"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"new_password":{"type":"string","title":"New Password"},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"image_url":{"type":"string","title":"Image Url"}},"type":"object","title":"UserEdit"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}